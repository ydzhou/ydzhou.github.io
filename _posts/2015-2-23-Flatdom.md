---
layout: post
title: Flatdom, a simulator for civilization evolution
---

It is a simulator to emulate how a civilization or any kind of group of intelligent beings goes through 4X. The 4X stands for explore, expand, exploit and exterminate. The name "flatdom" is inspired by the book "Flatland", since this simulator works on a 2D domain. Let's name those intelligent beings as "Flatone".

## Design

The simulator has a 2D domain, where flatone sits on any tile. A tile can have a flatone, or have nothing marked by gray color. If tile has no flatone, it is called unmanned land which still holds many dangers. The color differentiates each groups or tribes of flatone, and the number on each tile is the power index, which indicates how powerful being on current tile is, regarding that it is a flatone or unmanned land.

## Algorithm

As we mentioned before, three events could occur on each tile. The simulation takes in each time-step. During one time-step, there is only one event allowed to be occurred, for the sake of simplicity. This event has the highest possibility to occur. A customized priority queue is constructed to queue up those events, in order to make retrieve and update events in constant time.

The possibility of occurrence of an event, is calculated by taking its neighbor tiles into considerations. Since it is a 2D domain, we assume that a flatone can only know four tiles adjacent to its own tile and no communications could be conducted among flatone in distance.

Current calculation tends to achieve higher possibility of war event than develop or explore events. It reflects how greedy flatones could become.

## Demo

After above long talking, I have brought a simple demo showing that flatone evolves in a 10x10 domain.

The first screenshot shows how the domain and events looks like initially. The left matrix shows the domain. There are 3 groups of intelligent beings living on current domain. The number on each tile is the power index, which demonstrates how strong current being is. The event matrix indicate which event current tile gonna take in the next.

![_config.yml]({{ site.baseurl }}/images/flatdom-time0.png)

Then after 90 time steps, the domain becomes as below. It is clear to observe that green group and yellow group have formed a concrete area, with high power index adjacent to each other.

![_config.yml]({{ site.baseurl }}/images/flatdom-time90.png)