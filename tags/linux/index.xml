<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux on Nothing Owned</title><link>https://ydzhou.github.io/tags/linux/</link><description>Recent content in Linux on Nothing Owned</description><generator>Hugo</generator><language>en</language><lastBuildDate>Thu, 18 May 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://ydzhou.github.io/tags/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>Debug audio issue during sleep mode for Arch Linux on 2019 iMac</title><link>https://ydzhou.github.io/tech/2023-05-18-audio-linux-imac/</link><pubDate>Thu, 18 May 2023 00:00:00 +0000</pubDate><guid>https://ydzhou.github.io/tech/2023-05-18-audio-linux-imac/</guid><description>&lt;p>I am running Arch Linux with T2 kernel on a 2019 iMac. The audio does not work until I apply patches from &lt;a href="https://github.com/davidjo/snd_hda_macbookpro">snd_hda_macbookpro&lt;/a>. However, I am still getting no sound if iMac goes into sleep.&lt;/p>
&lt;h3 id="brief-debugging">Brief debugging&lt;/h3>
&lt;p>Going through kernel messages and checking PCI devices, indicate that after machine resuming, the audio device is lost or does not turn on. The device id is reset to 0x10138409 which is not a subsystem id but the PCI device id of the main sound device. This makes our patch not work at all since no access to the actual codec device.&lt;/p></description></item></channel></rss>