<!doctype html><html lang=en-us><head><meta charset=utf-8><title>一无所有地流浪</title><link rel=stylesheet href=/style.css></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-NGR0WHS7KP"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NGR0WHS7KP",{anonymize_ip:!1})}</script><body class=body-section><header><div id=header-section><div class=nav><div class=nav-left><a class=link href=https://ydzhou.github.io/>一无所有地流浪</a></div><nav><div class=nav-right><a class=link href=https://ydzhou.github.io/>主页</a> |
<a class=link href=https://ydzhou.github.io/tech>技术</a> |
<a class=link href=https://ydzhou.github.io/random>闲扯</a> |
<a class=link href=https://ydzhou.github.io/about>关于</a> |
<a class=link href=https://ydzhou.github.io/en/>🇺🇸English</a></div></nav></div><hr></div></header><div class=content><main class=main><h1>Vim Plugins</h1><p>本文着重推荐多款优秀的适用于 Vim 软件开发的 Plugin。本文没有考虑仅兼容 neovim 的 Plugin。下面的截图展示了由 nnn.vim，vim-lsp，asyncomplete.vim 等 Plugin 组成的 Go 开发环境。</p><p><img src=/vim-dev0.png alt=full-width></p><h2 id=文件浏览>文件浏览</h2><p>文件浏览的 Plugin 有两种大类。</p><ol><li>路径浏览</li><li>模糊查找</li></ol><h3 id=模糊查找>模糊查找</h3><p>这类 Plugin 可以通过关键词快速地查询文件，Buffers 或者文件内容</p><h4 id=fzfvim>FZF.vim</h4><p><a href=https://github.com/junegunn/fzf.vim>fzf.vim</a> 使用 <a href=https://github.com/junegunn/fzf>FZF</a> 进行查询。</p><p>优势：</p><ol><li>可以快速查阅大型目录。查询可以在目录没有完全加载下开始</li><li>最好的模糊匹配，可以不按照关键字顺序，甚至包含错误的关键字</li><li>可以自定义文件初次查找工具，比如使用 <code>fd</code> 加快速度</li></ol><p>不足：</p><ol><li>需要依赖 FZF</li><li>Plugin 弹出的响应有明显延迟</li></ol><p>如果你需要查询大量文件，或者不想牢记关键字，FZF 是最佳选择。</p><h4 id=ctrlp>CtrlP</h4><p><a href=https://github.com/kien/ctrlp.vim>CtrlP</a> 是另一款类似的模糊查询 Plugin。</p><p>优势：</p><ol><li>不需要任何对外依赖，轻量化</li><li>Plugin 弹出的响应优秀</li><li>支持自定义 matcher 来匹配潜在搜索结果来提升性能</li><li>界面和 Vim 融合更好，且默认支持 nerd font 美化文件图标</li></ol><p>不足：</p><ol><li>查阅大型目录卡顿明显，且需要漫长加载时间</li><li>匹配算法 naive，使用的是简单的 regex，word length 以及 levenshtein distance 来匹配</li></ol><p>如果你的工程文件数量小（1000项以下），且你比较熟悉里面的文件，CtrlP 是没有问题的。如果你需要远程工作，作业机器没有网络，CtrlP 就是不二选择。</p><h3 id=路径浏览>路径浏览</h3><p>这类 Plugin 可以按路径一层层浏览文件，比较经典的就是树状（tree）。也可以进行复制，剪切，删除，创建等基本文件操作。</p><h4 id=fern>Fern</h4><p><a href=https://github.com/lambdalisue/fern.vim>Fern</a> 是一个类似 Nerdtree 的树状浏览 Plugin，它使用异步加载和渲染。</p><p>优势：</p><ol><li>功能齐全且可定制性高，有很多 Fern 专属 Plugin 可以使用，比如 nerd-font，netrw-hijack</li><li>操作设计和 IDE 接近，容易上手</li></ol><p>不足：</p><ol><li>项目比较新且还在不断开发中，Bug 偏多</li><li>代码架构欠佳，包括不少对于异步的使用，显得 bloated</li></ol><p>如果你习惯了大多数 IDE 的文件浏览，或者 NerdTree，那么 Fern 就是最为推荐（也大概是唯一的）的 Tree Plugin。</p><h4 id=dirvish>Dirvish</h4><p><a href=https://github.com/justinmk/vim-dirvish>Dirvish</a> 和 Netrw 类似, KISS 的完美体现。</p><p>优势：</p><ol><li>速度最快的浏览插件，大型目录（1000+）无延迟打开</li><li>内核代码极为精练，极轻量化</li><li>功能单一，专注于文件浏览</li></ol><p>不足：</p><ol><li>功能简陋，可定制性差</li></ol><p>如果你习惯了 Netrw 或者想要一个轻量化的文件浏览 Plugin，Dirvish 是不二选择。</p><h4 id=nnnvim>NNN.vim</h4><p><a href=https://github.com/mcchrish/nnn.vim>nnn.vim</a> 使用 <a href=https://github.com/jarun/nnn>nnn</a> 浏览操作文件。</p><p>优势：</p><ol><li>使用 nnn 作为后端，性能优异且功能齐全
不足：</li><li>对 gVim 支持不佳，需要在 terminal 使用 Vim</li><li>需要依赖 nnn</li><li>按键 mapping 和 Vim 不兼容，交互感不佳</li></ol><p>如果你偏爱在 terminal 下使用 Vim，nnn.vim 是最好的选择。</p><h2 id=自动补全以及语言服务协议-lsp>自动补全以及语言服务协议 LSP</h2><p>语言服务协议可以让 Vim 实现对于许多语言的自动补全，跳转到定义实现以及搜索符号等。这类插件虽然也有不少，比如 CoC，或者语言类专用的比如 vim-go，但是我只推荐以下这个 Plugin。</p><h4 id=vim-lsp>vim-lsp</h4><p><a href=https://github.com/prabirshrestha/vim-lsp>vim-lsp</a> 是性能优良且配置简单的 LSP 插件。使用 <a href=https://github.com/mattn/vim-lsp-settings>vim-lsp-settings</a> 你可以无需配置就能得到许多主流语言的支持，比如 C/Cpp，Go，Java，PHP，Python，Ruby，Typescript 等。你甚至可以使用 <code>:LspHover</code> 以弹窗的形式来查看关键字的定义。</p><h4 id=asyncompletevim>asyncomplete.vim</h4><p><a href=https://github.com/prabirshrestha/asyncomplete.vim>asyncomplete.vim</a> 是目前我用过配置最简洁，代码最精简，性能优异的自动补全方案。和 CoC，YouCompleteMe 比，对外依赖极少，且功能轻量。目前使用下来补全速度非常快，没有任何延迟。但是对于比较大的库，会出现索引的候选词不完整的情况。比如 <code>aws ec2</code> 的库里面因为方法过多，没有办法通过前一两个字母，就筛选出所有的候选方法。</p><h2 id=最后>最后</h2><p>如果你对于配置感兴趣，欢迎参考我的 <a href=https://github.com/ydzhou/dotfiles/blob/master/vim/vimrc>vimrc</a></p><div class=go-back><a href=https://ydzhou.github.io/>&lt;&lt;&lt; Go back</a></div></main></div><div id=footer-section>2022 @ Y Zhou | 用心呵护 | <a href=https://github.com/ydzhou>Github</a> | <a href=https://linkedin.com/in/ydotzhou>Linkedin</a></div></body></html>